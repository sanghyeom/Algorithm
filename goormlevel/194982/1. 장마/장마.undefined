N, M = map(int, input().split())
house = list(map(int, input().split()))

rain = [0] * N

for cnt in range(1, M + 1):
    S, E = map(int, input().split())

    # S~E (포함) -> 인덱스는 S-1 ~ E-1
    for i in range(S - 1, E):
        house[i] += 1
        rain[i] += 1

    if cnt % 3 == 0:
        for idx in range(N):
            if rain[idx] != 0:
                house[idx] -= 1
        rain = [0] * N

print(*house)
